"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[742],{742:function(e,n,a){a.r(n),a.d(n,{default:function(){return S}});var t,r,o,s,i=a(885),l=a(791),u=a(168),g=a(842),p=a(617),c=g.Z.form(t||(t=(0,u.Z)(["\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n  font-size: 15px;\n  line-height: 20px;\n  // width: 100%;\n"]))),h=g.Z.input(r||(r=(0,u.Z)(["\n  padding: 4px 32px 4px 8px;\n  border-radius: 4px;\n  border: 1px solid rgba(0, 0, 0, 0.8);\n  font: inherit;\n"]))),d=(0,g.Z)(p.G4C)(o||(o=(0,u.Z)(["\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  fill: rgba(0, 0, 0, 0.6);\n  right: 6px;\n"]))),x=a(184),f=function(e){var n=e.value,a=e.onChange,t=(0,l.useState)(n),r=(0,i.Z)(t,2),o=r[0],s=r[1];return(0,x.jsxs)(c,{onSubmit:function(e){e.preventDefault(),a(o)},children:[(0,x.jsx)(d,{onClick:function(e){a(o)}}),(0,x.jsx)(h,{type:"text",onChange:function(e){s(e.target.value),console.log("e.target.value: ",e.target.value)},name:"query",value:o,placeholder:"Search..."})]})},v=g.Z.div(s||(s=(0,u.Z)(["\n  display: flex;\n"]))),m=a(593),j=function(e){var n=e.searchQuery,a=e.page,t=void 0===a?1:a,r=e.onPageChange,o=e.totalPages,s=void 0===o?20:o,i=e.changeSearch;return(0,x.jsxs)(v,{children:[(0,x.jsx)(f,{onChange:i,value:n}),(0,x.jsx)(m.t,{totalPages:s,page:t,onPageChange:r})]})},Z=a(47),b=a(919),y=a(731),C=a(689),S=function(){var e,n,a=(0,l.useState)([]),t=(0,i.Z)(a,2),r=t[0],o=t[1],s=(0,l.useState)(0),u=(0,i.Z)(s,2),g=u[0],p=u[1],c=(0,y.lr)(),h=(0,i.Z)(c,2),d=h[0],f=h[1],v=null!==(e=d.get("query"))&&void 0!==e?e:"";console.log("searchParam: ",v);var m=null!==(n=d.get("page"))&&void 0!==n?n:1;(0,l.useEffect)((function(){v?(0,b.z1)({query:v,page:m}).then((function(e){var n=e.results,a=e.total_pages;console.log(" total_pages 3: ",a),o(n),p(a)})):(0,b.Hg)({page:m}).then((function(e){var n=e.results,a=e.total_pages;console.log(" total_pages: ",a),o(n),p(a)}))}),[m,v]);return(0,x.jsxs)("main",{children:[(0,x.jsx)(j,{page:Number(m),totalPages:g,searchQuery:v,changeSearch:function(e){f(e?{query:e,page:1}:{query:"",page:1})},onPageChange:function(e){var n=new URLSearchParams;v&&n.append("query",v),n.append("page",e),f(n)}}),(0,x.jsx)(Z.e,{movies:r}),(0,x.jsx)(l.Suspense,{fallback:(0,x.jsx)("div",{children:"Loading data...."}),children:(0,x.jsx)(C.j3,{})})]})}}}]);
//# sourceMappingURL=742.fe92a7a3.chunk.js.map